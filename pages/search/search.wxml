<!-- pages/search/search.wxml -->
<view class="search-container">
  <!-- æœç´¢æ¡† -->
  <view class="search-bar">
    <input 
      placeholder="æœç´¢ç›®çš„åœ°ã€æ™¯ç‚¹..." 
      class="search-input" 
      focus="{{true}}"
      bindinput="onSearchInput"
      bindconfirm="onSearchConfirm"
      confirm-type="search"
      value="{{keyword}}"
    />
    <button class="search-cancel" bindtap="goBack">å–æ¶ˆ</button>
  </view>
  
  <!-- æœç´¢å†å² -->
  <view class="search-history" wx:if="{{!keyword && historyList.length > 0}}">
    <view class="history-header">
      <text>æœç´¢å†å²</text>
      <text bindtap="clearHistory">æ¸…ç©º</text>
    </view>
    <view class="history-list">
      <view 
        class="history-item" 
        wx:for="{{historyList}}" 
        wx:key="*this"
        bindtap="searchByHistory"
        data-keyword="{{item}}"
      >
        {{item}}
      </view>
    </view>
  </view>
  
  <!-- çƒ­é—¨æœç´¢ -->
  <view class="hot-search" wx:if="{{!keyword}}">
    <view class="hot-header">çƒ­é—¨æœç´¢</view>
    <view class="hot-list">
      <view 
        class="hot-item" 
        wx:for="{{hotKeywords}}" 
        wx:key="*this"
        bindtap="searchByHot"
        data-keyword="{{item}}"
      >
        {{item}}
      </view>
    </view>
  </view>
  
  <!-- æœç´¢ç»“æœ -->
  <view class="search-results" wx:if="{{keyword}}">
    <view class="result-count">æ‰¾åˆ°{{results.length}}ä¸ªç»“æœ</view>
    
    <!-- ç›®çš„åœ°ç»“æœ -->
    <view class="result-section" wx:if="{{destinations.length > 0}}">
      <view class="section-title">ç›®çš„åœ°</view>
      <view class="destination-list">
        <view 
          class="destination-item" 
          wx:for="{{destinations}}" 
          wx:key="id"
          bindtap="navigateToDestination"
          data-id="{{item.id}}"
        >
          <view class="destination-info">
            <view class="destination-name">{{item.name}}</view>
            <view class="destination-desc">{{item.desc}}</view>
          </view>
        </view>
      </view>
    </view>
    
    <!-- æ™¯ç‚¹ç»“æœ -->
    <view class="result-section" wx:if="{{attractions.length > 0}}">
      <view class="section-title">æ™¯ç‚¹</view>
      <view class="attraction-list">
        <view 
          class="attraction-item" 
          wx:for="{{attractions}}" 
          wx:key="id"
          bindtap="navigateToAttraction"
          data-id="{{item.id}}"
        >
          <view class="attraction-info">
            <view class="attraction-name">{{item.name}}</view>
            <view class="attraction-location">
              <text class="icon">ğŸ“</text>
              <text>{{item.location}}</text>
            </view>
          </view>
        </view>
      </view>
    </view>
    
    <!-- æ”»ç•¥ç»“æœ -->
    <view class="result-section" wx:if="{{guides.length > 0}}">
      <view class="section-title">æ”»ç•¥</view>
      <view class="guide-list">
        <view 
          class="guide-item" 
          wx:for="{{guides}}" 
          wx:key="id"
          bindtap="navigateToGuide"
          data-id="{{item.id}}"
        >
          <view class="guide-title">{{item.title}}</view>
          <view class="guide-meta">
            <text>{{item.author}}</text>
            <text>{{item.views}}æµè§ˆ</text>
          </view>
        </view>
      </view>
    </view>
    
    <!-- æ— ç»“æœ -->
    <view class="no-result" wx:if="{{results.length === 0}}">
      <view class="no-result-text">æ²¡æœ‰æ‰¾åˆ°"{{keyword}}"ç›¸å…³ç»“æœ</view>
    </view>
  </view>
</view>
